{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/julietgavison/Desktop/potatoes-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/julietgavison/Desktop/potatoes-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/julietgavison/Desktop/potatoes-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Modal,Button,Form}from'react-bootstrap';import{useHistory}from'react-router-dom';import axios from'axios';export default function ModalSignUp(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),phoneNumber=_useState2[0],setPhoneNumber=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),confirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),email=_useState12[0],setEmail=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),modalSignUp=_useState14[0],setModalSignUp=_useState14[1];var history=useHistory();var openModalSignUp=function openModalSignUp(){return setModalSignUp(true);};var handleClose=function handleClose(){return setModalSignUp(false);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,logIn;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return axios.post('http://localhost:5000/api/users/register',{email:email,password:password,confirmPassword:confirmPassword,firstName:firstName,lastName:lastName,phoneNumber:phoneNumber,points:20});case 3:response=_context.sent;console.log(response);setModalSignUp(false);_context.next=8;return axios.post('http://localhost:5000/api/users/login',{email:email,password:password});case 8:logIn=_context.sent;if(logIn.status===200){localStorage.setItem('token',response.data);}history.push('/');// const reload = window.location.reload();\ncase 11:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Button,{className:\"buttons-login-signup button btn btn-secondary my-2 my-sm-0 mr-4\",type:\"button\",onClick:openModalSignUp,children:[\"Sign Up\",' ']}),/*#__PURE__*/_jsxs(Modal,{show:modalSignUp,onHide:handleClose,children:[/*#__PURE__*/_jsxs(Modal.Header,{children:[/*#__PURE__*/_jsx(Modal.Title,{children:\"Sign Up\"}),/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:handleClose,type:\"button\",children:\"x\"})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{id:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,required:true,onChange:function onChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,required:true,onChange:function onChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"confirmPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:confirmPassword,required:true,onChange:function onChange(event){return setConfirmPassword(event.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"firsName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:firstName,required:true,onChange:function onChange(event){return setFirstName(event.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"lastName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:lastName,required:true,onChange:function onChange(event){return setLastName(event.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{id:\"phoneNumber\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone Number\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:phoneNumber,required:true,onChange:function onChange(event){return setPhoneNumber(event.target.value);}})]}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,className:\"button w-100\",type:\"submit\",children:\"Log In\"})]})})]})]});}","map":{"version":3,"sources":["/Users/julietgavison/Desktop/potatoes-front/src/components/ModalSignUp.jsx"],"names":["React","useState","Modal","Button","Form","useHistory","axios","ModalSignUp","phoneNumber","setPhoneNumber","firstName","setFirstName","lastName","setLastName","password","setPassword","confirmPassword","setConfirmPassword","email","setEmail","modalSignUp","setModalSignUp","history","openModalSignUp","handleClose","handleSubmit","event","preventDefault","post","points","response","console","log","logIn","status","localStorage","setItem","data","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nexport default function ModalSignUp() {\n\tconst [phoneNumber, setPhoneNumber] = useState('');\n\tconst [firstName, setFirstName] = useState('');\n\tconst [lastName, setLastName] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [confirmPassword, setConfirmPassword] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [modalSignUp, setModalSignUp] = useState(false);\n\tconst history = useHistory();\n\n\tconst openModalSignUp = () => setModalSignUp(true);\n\n\tconst handleClose = () => setModalSignUp(false);\n\n\tconst handleSubmit = async event => {\n\t\tevent.preventDefault();\n\t\tconst response = await axios.post(\n\t\t\t'http://localhost:5000/api/users/register',\n\t\t\t{\n\t\t\t\temail: email,\n\t\t\t\tpassword: password,\n\t\t\t\tconfirmPassword: confirmPassword,\n\t\t\t\tfirstName: firstName,\n\t\t\t\tlastName: lastName,\n\t\t\t\tphoneNumber: phoneNumber,\n\t\t\t\tpoints: 20,\n\t\t\t}\n\t\t);\n\t\tconsole.log(response);\n\t\tsetModalSignUp(false);\n\t\tconst logIn = await axios.post('http://localhost:5000/api/users/login', {\n\t\t\temail: email,\n\t\t\tpassword: password,\n\t\t});\n\t\tif (logIn.status === 200) {\n\t\t\tlocalStorage.setItem('token', response.data);\n\t\t}\n\n\t\thistory.push('/');\n\t\t// const reload = window.location.reload();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tclassName='buttons-login-signup button btn btn-secondary my-2 my-sm-0 mr-4'\n\t\t\t\ttype='button'\n\t\t\t\tonClick={openModalSignUp}>\n\t\t\t\tSign Up{' '}\n\t\t\t</Button>\n\n\t\t\t<Modal show={modalSignUp} onHide={handleClose}>\n\t\t\t\t<Modal.Header>\n\t\t\t\t\t<Modal.Title>Sign Up</Modal.Title>\n\t\t\t\t\t<Button variant='light' onClick={handleClose} type='button'>\n\t\t\t\t\t\tx\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>\n\t\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<Form.Group id='email'>\n\t\t\t\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={event => setEmail(event.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group id='password'>\n\t\t\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={event => setPassword(event.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group id='confirmPassword'>\n\t\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tvalue={confirmPassword}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={event => setConfirmPassword(event.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group id='firsName'>\n\t\t\t\t\t\t\t<Form.Label>First Name</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tvalue={firstName}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={event => setFirstName(event.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group id='lastName'>\n\t\t\t\t\t\t\t<Form.Label>Last Name</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tvalue={lastName}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={event => setLastName(event.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group id='phoneNumber'>\n\t\t\t\t\t\t\t<Form.Label>Phone Number</Form.Label>\n\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\tvalue={phoneNumber}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tonChange={event => setPhoneNumber(event.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\tclassName='button w-100'\n\t\t\t\t\t\t\ttype='submit'>\n\t\t\t\t\t\t\tLog In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Form>\n\t\t\t\t</Modal.Body>\n\t\t\t</Modal>\n\t\t</>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}